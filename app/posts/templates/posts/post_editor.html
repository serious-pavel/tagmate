{% extends 'base.html' %}

{% block title %}Post Editor{% endblock title%}

{% block content %}
<h2>Post Editor</h2>
{% if not user.is_authenticated %}
    <p>You are not logged in</p>
    <a href="{% url 'google_login' %}">Login</a>
{% else %}
    <div>
        TagGroups:
        <button>Add TagGroup</button>
        {% for tg in user.tag_groups.all %}
            <p>{{ tg.name }}</p>
        {% endfor %}
    </div>

    <div>
        Posts:
        <button>Add Post</button>
        {% for post in user.posts.all %}
            <p>{{ post.title }} ({{ post.created_at }})</p>
        {% endfor %}
    </div>

    <div>
        Tags:
        <button>Add Tag</button>
        <button>Add Tags from TagGroup</button>
        {% for tag in current_post.tags.all %}
            <p>{{ tag.name }}</p>
        {% endfor %}
    </div>
    <div>
        Post preview:
        <p>{{ current_post.title }}</p>
        <p>{{ current_post.description }}</p>
        <p>{{ current_post.tags.all }}</p>
    </div>

{% endif %}
{% endblock content %}